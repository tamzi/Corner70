<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
  <link href='bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css' rel='stylesheet' type='text/css'>
  <script src='bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' type='text/javascript'></script>
  <link href="contribution.css" rel="stylesheet
  ">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Corner 70</title>
</head>
<body>
    <div class="container">
      <div class="row">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <div class="col-md-12">
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                 
                  <li class="nav-item">
                    <a class="nav-link" href="statement.html">statements</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="#">contribution</a>
                  </li>
                    <li class="nav-item">
                      <a class="nav-link" href="logout.html">logout</a>
                    </li>
                </ul>
              </div>
            </div>
          </nav>
        </div>
      </div>
 <br>
            <form action="https://sheetdb.io/api/v1/wx4atzlf40fth" method="POST" id="sheetdb-form" name="myForm" onsubmit="checkforblank()">
              <!-- Name of person paying -->
      
                    <label for="person_paying" for="form6Example1">Name of person paying</label>
                    <select name="data[NamePersonPaying]" class="form-select" aria-label="Default select example" aria-placeholder="click me to see the names" id = 'lol2' required>
                      <option  value="">Click to see names</option>
                      <option value="Joseph Muriithi Gikunda" >Joseph Muriithi Gikunda</option>
                      <option value="Timothy Kibet Rotich">Timothy Kibet Rotich</option>
                      <option value="Henry Mutuku Kyalo">Henry Mutuku Kyalo</option>
                      <option value="Peter Thuku King'ori">Peter Thuku King'ori</option>
                      <option value="Patrick Wachira King'ori">Patrick Wachira King'ori</option>
                      <option value="Ben Waruingi Mwaura">Ben Waruingi Mwaura</option>
                      <option value="Andrew Omondi Ojwang">Andrew Omondi Ojwang</option>
                      <option value="Daniel Muondu">Daniel Muondu</option>
                      <option value="Duncan Wanjohi Njogu">Duncan Wanjohi Njogu</option>
                      <option value="Edwin Mwacharo Righa">Edwin Mwacharo Righa</option>
                      <option value="Mathews Philip Suka">Mathews Philip Suka</option>
                      <option value="Dennis Muthoka">Dennis Muthoka</option>
                      <option value="Cornelius Mirowe Onyango">Cornelius Mirowe Onyango</option>
                      <option value="Timothy Kioko Mutua">Timothy Kioko Mutua</option>
                      <option value="Stephen Mutunga Mutua">Stephen Mutunga Mutua</option>
                      <option value="Edwin Nguri Igecha">Edwin Nguri Igecha</option>
                      <option value="Kent Awiti Ojok">Kent Awiti Ojok</option>
                </select>
             <br>
              <!-- Name of person paying for -->
            
                    <label for="person_paying_for">Name of person paying for</label>
                    <select name="data[NamePayingFor]" class="form-select" aria-label="Default select example" id = 'lol1' required>
                      <option value="" >Click to see names</option>
                      <option value="Joseph Muriithi Gikunda">Joseph Muriithi Gikunda</option>
                      <option value="Timothy Kibet Rotich">Timothy Kibet Rotich</option>
                      <option value="Henry Mutuku Kyalo">Henry Mutuku Kyalo</option>
                      <option value="Peter Thuku King'ori">Peter Thuku King'ori</option>
                      <option value="Patrick Wachira King'ori">Patrick Wachira King'ori</option>
                      <option value="Ben Waruingi Mwaura">Ben Waruingi Mwaura</option>
                      <option value="Andrew Omondi Ojwang">Andrew Omondi Ojwang</option>
                      <option value="Daniel Muondu">Daniel Muondu</option>
                      <option value="Duncan Wanjohi Njogu">Duncan Wanjohi Njogu</option>
                      <option value="Edwin Mwacharo Righa">Edwin Mwacharo Righa</option>
                      <option value="Mathews Philip Suka">Mathews Philip Suka</option>
                      <option value="Dennis Muthoka">Dennis Muthoka</option>
                      <option value="Cornelius Mirowe Onyango">Cornelius Mirowe Onyango</option>
                      <option value="Timothy Kioko Mutua">Timothy Kioko Mutua</option>
                      <option value="Stephen Mutunga Mutua">Stephen Mutunga Mutua</option>
                      <option value="Edwin Nguri Igecha">Edwin Nguri Igecha</option>
                      <option value="Kent Awiti Ojok">Kent Awiti Ojok</option>
                    </select>
               <br>
            <!-- Payment type -->
  
                  <label for="payment_type" for="form6Example6">Payment type</label>
                  <select name="data[PaymentType]" class="form-select" aria-label="Default select example" id = 'lol3' required>
                    <option value="">Click me to see payment type</option>
                    <option value="Subscription">Subscription</option>
                    <option value="Fine">Fine</option>
                    <option value="both">Both</option>
                  </select>
               <br>
           <!--  Amount paid -->
           
              
                <label for="amount_paid" for="form6Example6">Amount paid</label>
                <input name="data[AmountPaid]" type="number" id="form6Example6" class="form-control" required/>
                <br>
            <!-- Means of payment-->
          
                  <label for="means_payment" for="form6Example6">Means of payment</label>
                  <select name="data[MeansOfPayment]" class="form-select" aria-label="Default select example" id = 'lol4' required>
                    <option value="">Click me to see means of payment</option>
                    <option value="M-pesa">M-pesa</option>
                    <option value="Bank_Transfer">Bank Transfer</option>
                    <option value="Bank_Deposit">Bank Deposit</option>
                  </select>
                  <span id="result"></span>
                  <br>
              <!-- Transaction code input -->
      
                    <label for="transaction_code" for="form6Example6">Transaction code</label>
                    <input name="data[TransactionCode]" type="text" id="form6Example6" class="form-control" required/>
                <br>
                <!-- Months paying for -->
                
                    <label for="months_paying" for="form6Example6">Months paying for</label>
                    <br>
                    <input type="month" id="data[MonthsPayingFor]" name="bdaymonth" placeholder="From">
                   
                  <br>
                  <!-- Months paying to -->
                  <br>
                      <label for="months_paying" for="form6Example6">Months paying to</label>
                      <br>
                      <input type="month" id="data[MonthsPayingTo]" name="bdaymonth" placeholder="To">
                    
                    <br>
            <!-- Date input -->
           <br>
                  <label for='date_paid'>Date paid</label>
                  <br>
                  <input name="data[DatePaid]" type="date" id="Date paid" required>
              
              <br>
            <!-- Time input -->
            <input type="hidden" name="data[TimeStamp]" value="=NOW()">
            <br>
            <!-- submit -->
     
                <button type="submit" onclick="submitForm()">Submit</button>
            
          </form>
          </div>
          <script type="text/javascript">
            var form = document.getElementById('sheetdb-form');
            form.addEventListener("submit", e => {
              e.preventDefault();
              fetch(form.action, {
                  method : "POST",
                  body: new FormData(document.getElementById("sheetdb-form")),
              }).then(
                  response => response.json()
              ).then((html) => {
                alert('Transaction successful.Your account has been updated with',data[AmountPaid])
              });
            });
           function validate(){
             var s1 = document.getElementById('lol4').value;
             if (s1=="Select means of payment"){
               alert("plz select means of payment");
               return false;
             }
             return true;
           }
           function submitForm() {
             document.myForm.reset();
           }
          </script>
</body>
</html>